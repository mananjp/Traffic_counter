[build]
  base = "."
  command = "pip install -r requirements.txt && python setup.py"
  publish = "."

[build.environment]
  PYTHON_VERSION = "3.9"
  STREAMLIT_SERVER_HEADLESS = "true"
  STREAMLIT_SERVER_ENABLE_CORS = "false"
  
[[redirects]]
  from = "/*"
  to = "/"
  status = 200

[build.processing]
  skip_processing = false

[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"

[context.production]
  command = "pip install -r requirements.txt && python setup.py && streamlit run traffic_counter.py --server.port=8501 --server.address=0.0.0.0 --server.headless=true"

[context.deploy-preview]
  command = "pip install -r requirements.txt && python setup.py && streamlit run traffic_counter.py --server.port=8501 --server.address=0.0.0.0 --server.headless=true"